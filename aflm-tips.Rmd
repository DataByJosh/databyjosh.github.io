---
title: "<p style=\"text-align:center;\"><img src=\"images/colourlogo.png\" style=\"width:100%;\"></p>"
pagetitle: AFLM Tips | Data by Josh
---

# **AFLM Tips**

Displayed on this page are the predictions and results of my AFLM tipping model so far in season 2023. Tips are released on a round-by-round basis and may be updated several times during the week. An FAQ is available at the bottom of the page.

```{r, echo = FALSE, message = FALSE, warning = FALSE}

library(reactable)
library(htmltools)
library(readxl)

sumtable <- data.frame(games = "Games Completed",
                       xtips = "Expected Tips",
                       atips = "Correct Tips",
                       accuracy = "Accuracy\u2800",
                       mae = "MAE",
                       bits = "Bits")

tipstable <- read_xlsx("aflmtips.xlsx")

pred_cols <- c("round","icon","winner","margin","probability")
result_cols <- c("result","abserr","bits")

std_col <- function(...) {
  colDef(align = "center", 
         class = "cell",
         na = "\u2013",
         vAlign = "center",
         ...)
}

sum_col <- function(...) {
  colDef(align = "center", 
         class = "cell",
         na = "\u2013",
         vAlign = "top",
         headerVAlign = "top",
         ...)
}

format_result <- function(value) {
  if (value == 0) img(src = "images/cross.png", height = "24px")
  else if (value == 1) img(src = "images/tick.png", height = "24px")
  else img(src = "images/qm.png", height = "24px")
}

prob_colour <- function(x) rgb(colorRamp(c("#ffffff", "#ffffff", "#ffeda0", "#feb24c", "#fc4e2a"))(x), maxColorValue = 255)

prob_style <- function(value) {
  color <- prob_colour(value)
  list(background = color,
       borderRight = "2px solid black")
}

tip_cell <- function(value, index) {
  loser <- paste0("to defeat ",tipstable$loser[index])
          div(
            div(style = list(fontWeight = "bold"), value),
            div(style = list(fontSize = 12), loser))
}


icon_cell <- function(value) {
  icon <- img(src = paste0("images/",value), height = "24px")
  div(icon)
}

stable <- reactable(
  sumtable,
  columns = list(
    games = sum_col(name = "0"),
    xtips = sum_col(name = "0"),
    atips = sum_col(name = "0"),
    accuracy = sum_col(name = "-"),
    mae = sum_col(name = "-"),
    bits = sum_col(name = "0")
  ),
  borderless = TRUE,
  sortable = FALSE,
  theme = reactableTheme(borderWidth = 0,
                         cellPadding = 0,
                         headerStyle = list(fontSize = 35,
                                         fontWeight = "bold",
                                         height = 40),
                         rowStyle = list(fontSize = 15,
                                         fontWeight = "normal",
                                         color = "dimgrey",
                                         height = 30)))

ttable <- reactable(
  tipstable,
  columnGroups = list(
    colGroup(name = "Predictions", columns = pred_cols),
    colGroup(name = "Results", columns = result_cols)
  ),
  columns = list(
    round = std_col(name = "ROUND",
                    width = 75),
    icon = std_col(name = "",
                   width = 75,
                   cell = icon_cell),
    winner = colDef(name = "TIP",
                    width = 175,
                    cell = tip_cell,
                    align = "left",
                    class = "cell"),
    loser = colDef(show = FALSE),
    margin = std_col(name = "MARGIN"),
    probability = std_col(name = "CHANCE",
                          style = prob_style,
                          format = colFormat(percent = TRUE, digits = 0)),
    result = std_col(name = "ACCURACY",
                     cell = format_result),
    abserr = std_col(name = "MAE",
                     format = colFormat(digits = 0)),
    bits = std_col(name = "BITS",
                   format = colFormat(digits = 2))
  ),
  borderless = TRUE,
  highlight = TRUE,
  sortable = FALSE,
  defaultPageSize = 10,
  showPageInfo = FALSE,
  theme = reactableTheme(borderColor = "white",
                         groupHeaderStyle = list(fontSize = 20,
                                                 fontWeight = "bold"),
                         rowStyle = list(borderBottom = "1px solid gray"),
                         headerStyle = list(borderBottom = "2px solid black",
                                            fontWeight = "normal")))
```

------------------------------------------------------------------------

```{r, echo = FALSE, message = FALSE, warning = FALSE}
stable
```

------------------------------------------------------------------------

```{r, echo = FALSE, message = FALSE, warning = FALSE}
ttable
```

### FAQ

<details>

<summary>**How does it work?**</summary>

There are three elements to each prediction in the table: **tip**, the team the model is tipping to win; **margin**, the amount of points the model is tipping that team to win by; and **chance**, the percentage likelihood of the tipped team winning by any margin. The table also includes methods of evaluating all three elements of the tip. These are discussed in detail in the other FAQs.

The model is still in development and as such I am not currently releasing the details of how it makes predictions, but I may decide to do so in the future. You are welcome to use the information below as you see fit, but please note that you do so at your own risk. I do not recommend or encourage the use of this information for betting.

</details>

<details>

<summary>**What is accuracy?**</summary>

**Accuracy**, quite simply, records whether the tip was right or wrong. If the team being tipped to win the game does win, you will see a green tick. For any other result you will see a red cross. Until the result is known, you will see a black question mark.

Most users of a tipping model will be primarily concerned with how often it correctly picks the winning team. Accuracy provides a direct answer to this question.

However, past accuracy is not always the best predictor of future accuracy. This is why other methods of evaluation are included.

</details>

<details>

<summary>**What is MAE?**</summary>

The acronym **MAE** stands for **Mean Absolute Error**.

The error of a tip is the amount by which the real-world margin differs from the predicted margin. For example, if the model tips the home team to win by 20 points, and they instead win by 35, the error for that tip will be 15. If they win by 5, it will be -15.

The absolute error is the same number, but is always a positive value. In the scenario above, whether the home team wins by 35 or 5, the absolute error of the tip will be 15.

Therefore, **the mean absolute error is the average number of points by which the margin prediction was wrong.** The lower the MAE, the better the model.

In comparison to accuracy, MAE is a superior predictor of future accuracy. Why is this?

Imagine a match with tips provided by two models. Model A predicts the home team will win by 2 points. Model B predicts the away team will win by 30 points. The match is played, and the away team wins by 4 points.

Model A better predicted the outcome of the match - it was only 6 points off, while Model B missed by 26. But, Model B predicted the right team, and Model A the wrong one. This would be reflected in MAE, but the *accuracy* would incorrectly report Model B as superior.

This is an outcome that, understandably, can feel counter-intuitive. [If you're interested in reading more, I highly recommend Tony Corke's article on the topic on his website, Matter of Stats.](http://www.matterofstats.com/mafl-stats-journal/2017/6/9/tipping-accuracy-vs-mae-as-a-footy-forecaster-metric)

</details>

<details>

<summary>**What are bits?**</summary>

The **bits** measurement evaluates 'chance', the probability of the tipped team winning the match by any margin.

If the tip is accurate, then the model will be awarded some value of bits, depending on how probable the model declared the tip to be. The more confident the model is in its tip, the more bits it will receive if the tip is correct.

However, the same is true in reverse. If the tip is inaccurate, the model loses some value of bits, and this value grows larger depending on how confident the model was in the faulty prediction. A draw result also sees the model lose bits, albeit not as many.

As such, bits provides something of a compromise between accuracy and MAE. It's a score that goes up or down depending on the real world outcome of the match, but with the acknowledgement that the confidence in a prediction is just as important as the prediction itself.

Bits are used to score the Monash University Probabilistic Footy Tipping Competition. [You can find more information on how they are calculated on their website.](https://probabilistic-footy.monash.edu/~footy/about.shtml#info)

</details>

<details>

<summary>**What are expected tips?**</summary>

The model's **expected tips** is the sum of the prediction probability for each completed game so far. As the name suggests, it is intended to provide an estimate of how many correct tips the model would expect to have achieved, based on the probability it has assigned to each prediction.

For example, if the model tips that a team has a 67% chance of victory, this would be equivalent to 0.67 expected tips. Therefore in a group of three tips all with a 67% chance, the model would expect to get 2 out of 3 tips correct (or 2.01, to be precise).

If the number of correct tips is significantly higher than the expected tips, this suggests - assuming the model is calculating tip probabilities well - that it is currently overperforming, and has probably gotten a bit lucky with the results of some games. Likewise, if corrected tips are significantly lower, it is probably a bit unlucky.

</details>

 

**Last updated:** 6:55pm, 6 March 2024 (AEDT).
